{"ast":null,"code":"import _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport Taxes from \"../../../../src/components/organisms/taxes\";\nimport { taxesColumns, taxesColumnData } from \"./taxes.data\";\nimport { itemData } from \"../../../../pagesData/item.data\";\nimport { addTax as _addTax, taxes, getTaxCategories as _getTaxCategories } from \"../../../../src/reduxHelper\";\nimport wrapper from \"./wrapper\";\nimport uuidv4 from \"uuid/v4\";\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      taxesTableData: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Loding all taxes in database\n      this.loadTaxesData();\n    }\n  }, {\n    key: \"handleCreateTaxes\",\n    value: function handleCreateTaxes(data, cb) {\n      var _this2 = this;\n\n      data.values.taxID = uuidv4();\n      this.props.addTax(data.values).then(function (res) {\n        _this2.loadTaxesData();\n\n        cb({\n          status: true,\n          message: \"Taxes created successful\"\n        });\n      }).catch(function (err) {\n        console.log(err);\n        cb({\n          status: false,\n          message: \"SomeError occured\"\n        });\n      });\n    }\n  }, {\n    key: \"callback\",\n    value: function callback(key) {// console.log(key);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // will not render under taxcategory loaded\n      if (true) {\n        return React.createElement(\"div\", null, React.createElement(Taxes, {\n          formData: this.createSelectData(this.props.taxCategories.response.data),\n          rowSelection: {},\n          cascaderData: itemData.cascaderData,\n          columns: taxesColumns,\n          columnData: this.state.taxesTableData,\n          onCreate: function onCreate(data, cb) {\n            return _this3.handleCreateTaxes(data, cb);\n          }\n        }));\n      } else {\n        return React.createElement(\"h1\", null, \"Loading\");\n      }\n    }\n  }, {\n    key: \"_createTaxesColumns\",\n    value: function _createTaxesColumns(data) {\n      var temp = [];\n\n      if (_Array$isArray(data)) {\n        data.map(function (item) {\n          var object = {};\n          object.name = item.name;\n          object.taxCategory = item.taxcategory;\n          object.percentage = item.percentage;\n          temp.push(object);\n        });\n      } else {\n        var object = {};\n        object.name = item.name;\n        object.taxCategory = item.taxcategory;\n        object.percentage = item.percentage;\n        temp.push(object);\n      }\n\n      return temp;\n    }\n  }, {\n    key: \"loadTaxesData\",\n    value: function loadTaxesData() {\n      var _this4 = this;\n\n      var businessID = this.props.business.response.data.businessID;\n      this.props.getTaxes(businessID).then(function (res) {\n        _this4.setState({\n          taxesTableData: _this4._createTaxesColumns(res)\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"createSelectData\",\n    value: function createSelectData(data) {\n      var selectData = data.map(function (item) {\n        return {\n          name: item.name,\n          value: item.taxcategoryID\n        };\n      });\n      return selectData;\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    business: state.businesses,\n    taxes: state.taxes,\n    taxCategories: state.taxCategories,\n    Tax: state.addTax\n  };\n}; // Example Syntax for writing dispatch\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getTaxes: function getTaxes(businessID) {\n      return dispatch(taxes.action(businessID));\n    },\n    addTax: function addTax(object) {\n      return dispatch(_addTax.action(object));\n    },\n    getTaxCategories: function getTaxCategories(businessID) {\n      return dispatch(_getTaxCategories.action(businessID));\n    }\n  };\n};\n\nexport default wrapper(connect(mapStateToProps, mapDispatchToProps)(App));","map":{"version":3,"sources":["/Users/subham/Desktop/work/skip/skip-frontend/pages/dashboard/.taxes/.taxes/index.js"],"names":["React","connect","Taxes","taxesColumns","taxesColumnData","itemData","addTax","taxes","getTaxCategories","wrapper","uuidv4","App","props","state","taxesTableData","loadTaxesData","data","cb","values","taxID","then","res","status","message","catch","err","console","log","key","createSelectData","taxCategories","response","cascaderData","handleCreateTaxes","temp","map","item","object","name","taxCategory","taxcategory","percentage","push","businessID","business","getTaxes","setState","_createTaxesColumns","selectData","value","taxcategoryID","Component","mapStateToProps","businesses","Tax","mapDispatchToProps","dispatch","action"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Taxes from \"../../../../src/components/organisms/taxes\"\n\nimport { taxesColumns, taxesColumnData } from \"./taxes.data\"\nimport { itemData } from \"../../../../pagesData/item.data\"\nimport { addTax, taxes, getTaxCategories } from \"../../../../src/reduxHelper\"\nimport wrapper from \"./wrapper\"\nimport uuidv4 from \"uuid/v4\"\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      taxesTableData: []\n    }\n  }\n\n  componentDidMount() {\n    // Loding all taxes in database\n    this.loadTaxesData()\n  }\n\n  handleCreateTaxes(data, cb) {\n    data.values.taxID = uuidv4()\n    this.props\n      .addTax(data.values)\n      .then(res => {\n        this.loadTaxesData()\n        cb({ status: true, message: \"Taxes created successful\" })\n      })\n      .catch(err => {\n        console.log(err)\n        cb({ status: false, message: \"SomeError occured\" })\n      })\n  }\n\n  callback(key) {\n    // console.log(key);\n  }\n  render() {\n    // will not render under taxcategory loaded\n    if (true) {\n      return (\n        <div>\n          <Taxes\n            formData={this.createSelectData(\n              this.props.taxCategories.response.data\n            )}\n            rowSelection={{}}\n            cascaderData={itemData.cascaderData}\n            columns={taxesColumns}\n            columnData={this.state.taxesTableData}\n            onCreate={(data, cb) => this.handleCreateTaxes(data, cb)}\n          />\n        </div>\n      )\n    } else {\n      return <h1>Loading</h1>\n    }\n  }\n\n  _createTaxesColumns(data) {\n    let temp = []\n    if (Array.isArray(data)) {\n      data.map(item => {\n        let object = {}\n        object.name = item.name\n        object.taxCategory = item.taxcategory\n        object.percentage = item.percentage\n        temp.push(object)\n      })\n    } else {\n      let object = {}\n      object.name = item.name\n      object.taxCategory = item.taxcategory\n      object.percentage = item.percentage\n      temp.push(object)\n    }\n    return temp\n  }\n\n  loadTaxesData() {\n    let businessID = this.props.business.response.data.businessID\n    this.props\n      .getTaxes(businessID)\n      .then(res => {\n        this.setState({ taxesTableData: this._createTaxesColumns(res) })\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  createSelectData(data) {\n    let selectData = data.map(item => ({\n      name: item.name,\n      value: item.taxcategoryID\n    }))\n    return selectData\n  }\n}\n\nconst mapStateToProps = state => ({\n  business: state.businesses,\n  taxes: state.taxes,\n  taxCategories: state.taxCategories,\n  Tax: state.addTax\n})\n// Example Syntax for writing dispatch\nconst mapDispatchToProps = dispatch => ({\n  getTaxes: businessID => dispatch(taxes.action(businessID)),\n  addTax: object => dispatch(addTax.action(object)),\n  getTaxCategories: businessID => dispatch(getTaxCategories.action(businessID))\n})\nexport default wrapper(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(App)\n)\n"]},"metadata":{},"sourceType":"module"}